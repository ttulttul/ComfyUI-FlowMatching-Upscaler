{
  "id": "a79b6b63-4020-4184-99cc-cab777c3190c",
  "revision": 0,
  "last_node_id": 45,
  "last_link_id": 106,
  "nodes": [
    {
      "id": 4,
      "type": "CLIPLoader",
      "pos": [
        -7042.759591981911,
        -170.00369883596335
      ],
      "size": [
        270,
        106
      ],
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            3
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.62",
        "Node name for S&R": "CLIPLoader",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "qwen_2.5_vl_7b_fp8_scaled.safetensors",
        "qwen_image",
        "default"
      ]
    },
    {
      "id": 2,
      "type": "UNETLoader",
      "pos": [
        -7042.17653281602,
        -332.72137726797837
      ],
      "size": [
        270,
        82
      ],
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            7
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.62",
        "Node name for S&R": "UNETLoader",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "qwenImageFp8E4m3fn.jq9z.safetensors",
        "fp8_e4m3fn"
      ]
    },
    {
      "id": 30,
      "type": "VAEDecode",
      "pos": [
        -5622.22202810591,
        -278.0439682645962
      ],
      "size": [
        140,
        46
      ],
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 71
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 69
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            70,
            75
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.62",
        "Node name for S&R": "VAEDecode",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 12,
      "type": "PreviewImage",
      "pos": [
        -3355.888861281123,
        -129.21312538647527
      ],
      "size": [
        373.1395837074815,
        392.72575459386076
      ],
      "flags": {},
      "order": 34,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 21
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.62",
        "Node name for S&R": "PreviewImage",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 31,
      "type": "PreviewImage",
      "pos": [
        -5685.730423266463,
        -179.47848148698094
      ],
      "size": [
        317.4062991636547,
        351.8729589942907
      ],
      "flags": {},
      "order": 21,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 70
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.62",
        "Node name for S&R": "PreviewImage",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 5,
      "type": "ConditioningZeroOut",
      "pos": [
        -6464.136418842478,
        83.1270312035864
      ],
      "size": [
        197.712890625,
        26
      ],
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [
        {
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 4
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            5,
            61,
            99
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.62",
        "Node name for S&R": "ConditioningZeroOut",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 28,
      "type": "KSampler",
      "pos": [
        -6000.278518951943,
        -275.9738713574394
      ],
      "size": [
        270,
        474.0000000000001
      ],
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 63
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 62
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 61
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 100
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            71,
            103,
            104
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.62",
        "Node name for S&R": "KSampler",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        8241612772976,
        "fixed",
        8,
        1,
        "euler",
        "simple",
        1
      ]
    },
    {
      "id": 32,
      "type": "Note",
      "pos": [
        -3349.8004420102657,
        310.895964632462
      ],
      "size": [
        359.97601824448975,
        325.4749925528598
      ],
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "The final image at the end of the upscaling workflow is rich with detail."
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 26,
      "type": "PreviewImage",
      "pos": [
        -5147.044261049216,
        590
      ],
      "size": [
        264.0018666998958,
        279.1805607034746
      ],
      "flags": {},
      "order": 24,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 51
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.62",
        "Node name for S&R": "PreviewImage",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 25,
      "type": "VAEDecode",
      "pos": [
        -5147.044261049216,
        490
      ],
      "size": [
        140,
        46
      ],
      "flags": {},
      "order": 19,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 104
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 50
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            51
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.62",
        "Node name for S&R": "VAEDecode",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 19,
      "type": "VAEDecode",
      "pos": [
        -4080,
        490
      ],
      "size": [
        140,
        46
      ],
      "flags": {},
      "order": 30,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 38
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 36
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            37
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.62",
        "Node name for S&R": "VAEDecode",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 20,
      "type": "PreviewImage",
      "pos": [
        -4080,
        590
      ],
      "size": [
        264.0018666998958,
        279.1805607034746
      ],
      "flags": {},
      "order": 32,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 37
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.62",
        "Node name for S&R": "PreviewImage",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 17,
      "type": "VAEDecode",
      "pos": [
        -4450,
        490
      ],
      "size": [
        140,
        46
      ],
      "flags": {},
      "order": 27,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 34
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 32
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            33
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.62",
        "Node name for S&R": "VAEDecode",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 18,
      "type": "PreviewImage",
      "pos": [
        -4450,
        590
      ],
      "size": [
        264.0018666998958,
        279.1805607034746
      ],
      "flags": {},
      "order": 29,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 33
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.62",
        "Node name for S&R": "PreviewImage",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 15,
      "type": "VAEDecode",
      "pos": [
        -4800,
        490
      ],
      "size": [
        140,
        46
      ],
      "flags": {},
      "order": 22,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 28
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 29
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            30
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.62",
        "Node name for S&R": "VAEDecode",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 16,
      "type": "PreviewImage",
      "pos": [
        -4800,
        590
      ],
      "size": [
        264.0018666998958,
        279.1805607034746
      ],
      "flags": {},
      "order": 26,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 30
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.62",
        "Node name for S&R": "PreviewImage",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 36,
      "type": "Note",
      "pos": [
        -3703.11689916335,
        449.2867075618819
      ],
      "size": [
        279.4716913664679,
        179.61566184009178
      ],
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "This last stage is just for \"clean up\" and has its upscale set to 1.0, with a low denoise setting. Notice that we also reduce the skip_blend to just 1.0 and the dilated sampling blend to 0.1. The dilated sampling blend can create a ghosty effect, which you may not like."
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 7,
      "type": "LoraLoaderModelOnly",
      "pos": [
        -6653.287452286314,
        -331.6137697833916
      ],
      "size": [
        270,
        82
      ],
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 7
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            8,
            63,
            97
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.62",
        "Node name for S&R": "LoraLoaderModelOnly",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "qwen_image_lightning_8step.safetensors",
        1
      ]
    },
    {
      "id": 38,
      "type": "PreviewImage",
      "pos": [
        -4623.6239599773335,
        1146.4511311534006
      ],
      "size": [
        317.4062991636547,
        351.8729589942907
      ],
      "flags": {},
      "order": 25,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 95
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.62",
        "widget_ue_connectable": {},
        "Node name for S&R": "PreviewImage"
      },
      "widgets_values": []
    },
    {
      "id": 39,
      "type": "KSampler",
      "pos": [
        -4938.172055662812,
        1049.955741282942
      ],
      "size": [
        270,
        474.0000000000001
      ],
      "flags": {},
      "order": 16,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 96
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 98
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 99
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 101
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            94
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.62",
        "widget_ue_connectable": {},
        "Node name for S&R": "KSampler"
      },
      "widgets_values": [
        8241612772976,
        "fixed",
        8,
        1,
        "euler",
        "simple",
        1
      ]
    },
    {
      "id": 43,
      "type": "EmptySD3LatentImage",
      "pos": [
        -5231.479841784329,
        1432.0640140963521
      ],
      "size": [
        270,
        106
      ],
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            101
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.68",
        "widget_ue_connectable": {},
        "Node name for S&R": "EmptySD3LatentImage"
      },
      "widgets_values": [
        1856,
        3328,
        1
      ]
    },
    {
      "id": 11,
      "type": "VAELoader",
      "pos": [
        -7030.498986211749,
        2.0864863734669026
      ],
      "size": [
        270,
        58
      ],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            20,
            29,
            32,
            36,
            50,
            69,
            102
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.62",
        "Node name for S&R": "VAELoader",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "qwen_image_vae.safetensors"
      ]
    },
    {
      "id": 14,
      "type": "PrimitiveNode",
      "pos": [
        -5225.784864666514,
        100.50207475406677
      ],
      "size": [
        210,
        82
      ],
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "FLOAT",
          "type": "FLOAT",
          "widget": {
            "name": "scale_factor"
          },
          "links": [
            24,
            25,
            27
          ]
        }
      ],
      "title": "scale_factor",
      "properties": {
        "Run widget replace on values": false,
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        1.2599210499,
        "fixed"
      ]
    },
    {
      "id": 35,
      "type": "Note",
      "pos": [
        -5227.465742024518,
        -102.51542979470942
      ],
      "size": [
        377.690107352023,
        153.99374633451737
      ],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "The scale_factor below is set at 2^(1/3), which is the right amount to scale by in each of three stages in order to end up with a latent that is 2x the size of the original."
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 42,
      "type": "EmptySD3LatentImage",
      "pos": [
        -6538.905669098973,
        164.92352791803597
      ],
      "size": [
        270,
        106
      ],
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            100
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.68",
        "widget_ue_connectable": {},
        "Node name for S&R": "EmptySD3LatentImage"
      },
      "widgets_values": [
        928,
        1664,
        1
      ]
    },
    {
      "id": 34,
      "type": "Note",
      "pos": [
        -6009.922429899372,
        260.7579347067782
      ],
      "size": [
        663.1382721720283,
        88
      ],
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "We start with a normal KSampler output at the standard Qwen resolution. This is our \"control\"."
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 41,
      "type": "DyPEQwenImage",
      "pos": [
        -5229.443121167839,
        1058.8932641961894
      ],
      "size": [
        270,
        322
      ],
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 97
        }
      ],
      "outputs": [
        {
          "name": "model",
          "type": "MODEL",
          "links": [
            96
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-flowmatching-upscaler",
        "ver": "f2e56bb41cb9bb1ec97c79d7bf4764f355064f18",
        "widget_ue_connectable": {},
        "Node name for S&R": "DyPEQwenImage"
      },
      "widgets_values": [
        1856,
        3328,
        true,
        928,
        1664,
        "yarn",
        true,
        1.9,
        1.15,
        1.35,
        1,
        "adaptive"
      ]
    },
    {
      "id": 44,
      "type": "Note",
      "pos": [
        -5234.98167079927,
        1574.9696567324957
      ],
      "size": [
        663.1382721720283,
        88
      ],
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "For comparison, we can use another technique included in this node pack called \"DyPE\" (Dynamic Position Extrapolation Process), which gradually stretches out the spatial \"coordinate map\" used by the model during sampling, starting out with the default coordinate map in the first inference step and gradually expanding the map until it is shifted to the max_shift amount by the last step. The \"method\" can be either ntk"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 9,
      "type": "FlowMatchingStage",
      "pos": [
        -4073.7404479605916,
        -277.8391365935219
      ],
      "size": [
        296.767578125,
        730
      ],
      "flags": {},
      "order": 28,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 85
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 86
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 87
        },
        {
          "name": "latent",
          "type": "LATENT",
          "link": 83
        },
        {
          "name": "seed",
          "type": "INT",
          "widget": {
            "name": "seed"
          },
          "link": 84
        },
        {
          "name": "scale_factor",
          "type": "FLOAT",
          "widget": {
            "name": "scale_factor"
          },
          "link": 27
        }
      ],
      "outputs": [
        {
          "name": "latent",
          "type": "LATENT",
          "links": [
            38,
            88
          ]
        },
        {
          "name": "presampler_latent",
          "type": "LATENT",
          "links": []
        },
        {
          "name": "next_seed",
          "type": "INT",
          "links": [
            89
          ]
        },
        {
          "name": "model",
          "type": "MODEL",
          "links": [
            90
          ]
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "links": [
            91
          ]
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "links": [
            92
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-flowmatching-upscaler",
        "ver": "b4fd47a31acdf70194a002cf11b850483687d0af",
        "Node name for S&R": "FlowMatchingStage",
        "aux_id": "ttulttul/ComfyUI-FlowMatching-Upscaler",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        489786576803732,
        "fixed",
        8,
        1,
        "euler",
        "simple",
        1.26,
        0.2,
        0.5,
        0.5,
        "bicubic",
        "enable",
        "enable",
        2,
        0.25,
        "blob:http://localhost:8188/168b9705-81ab-4384-a022-bf71f811f205"
      ]
    },
    {
      "id": 8,
      "type": "FlowMatchingStage",
      "pos": [
        -4450,
        -280
      ],
      "size": [
        296.767578125,
        730
      ],
      "flags": {},
      "order": 23,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 79
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 80
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 81
        },
        {
          "name": "latent",
          "type": "LATENT",
          "link": 82
        },
        {
          "name": "seed",
          "type": "INT",
          "widget": {
            "name": "seed"
          },
          "link": 93
        },
        {
          "name": "scale_factor",
          "type": "FLOAT",
          "widget": {
            "name": "scale_factor"
          },
          "link": 25
        }
      ],
      "outputs": [
        {
          "name": "latent",
          "type": "LATENT",
          "links": [
            34,
            83
          ]
        },
        {
          "name": "presampler_latent",
          "type": "LATENT",
          "links": []
        },
        {
          "name": "next_seed",
          "type": "INT",
          "links": [
            84
          ]
        },
        {
          "name": "model",
          "type": "MODEL",
          "links": [
            85
          ]
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "links": [
            86
          ]
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "links": [
            87
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-flowmatching-upscaler",
        "ver": "b4fd47a31acdf70194a002cf11b850483687d0af",
        "Node name for S&R": "FlowMatchingStage",
        "aux_id": "ttulttul/ComfyUI-FlowMatching-Upscaler",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        297885940974002,
        "fixed",
        8,
        1,
        "euler",
        "simple",
        1.26,
        0.2,
        0.5,
        0.5,
        "bicubic",
        "enable",
        "enable",
        2,
        0.25,
        "blob:http://localhost:8188/4bdb5ece-789c-4e0c-86cd-82947a3a6d1c"
      ]
    },
    {
      "id": 1,
      "type": "FlowMatchingStage",
      "pos": [
        -4800,
        -280
      ],
      "size": [
        296.767578125,
        730
      ],
      "flags": {},
      "order": 18,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 8
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 2
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 5
        },
        {
          "name": "latent",
          "type": "LATENT",
          "link": 103
        },
        {
          "name": "scale_factor",
          "type": "FLOAT",
          "widget": {
            "name": "scale_factor"
          },
          "link": 24
        }
      ],
      "outputs": [
        {
          "name": "latent",
          "type": "LATENT",
          "links": [
            28,
            82
          ]
        },
        {
          "name": "presampler_latent",
          "type": "LATENT",
          "links": []
        },
        {
          "name": "next_seed",
          "type": "INT",
          "links": [
            93
          ]
        },
        {
          "name": "model",
          "type": "MODEL",
          "links": [
            79
          ]
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "links": [
            80
          ]
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "links": [
            81
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-flowmatching-upscaler",
        "ver": "b4fd47a31acdf70194a002cf11b850483687d0af",
        "Node name for S&R": "FlowMatchingStage",
        "aux_id": "ttulttul/ComfyUI-FlowMatching-Upscaler",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        498156159082860,
        "fixed",
        8,
        1,
        "euler",
        "simple",
        1.26,
        0.2,
        0.5,
        0.5,
        "bicubic",
        "enable",
        "enable",
        2,
        0.25,
        "blob:http://localhost:8188/79711131-253e-4f0b-8d39-6d644280e653"
      ]
    },
    {
      "id": 33,
      "type": "Image Comparer (rgthree)",
      "pos": [
        -2750.546695376869,
        -317.54827015211237
      ],
      "size": [
        827.6832446665508,
        1487.6424977479487
      ],
      "flags": {},
      "order": 35,
      "mode": 0,
      "inputs": [
        {
          "dir": 3,
          "name": "image_a",
          "type": "IMAGE",
          "link": 74
        },
        {
          "dir": 3,
          "name": "image_b",
          "type": "IMAGE",
          "link": 75
        }
      ],
      "outputs": [],
      "title": "Base Sample vs. Flow Matching Upscale",
      "properties": {
        "cnr_id": "rgthree-comfy",
        "ver": "0fb1e239a903e93ef626a8c20589b38f46e39dff",
        "comparer_mode": "Slide",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        [
          {
            "name": "A",
            "selected": true,
            "url": "/api/view?filename=rgthree.compare._temp_gusxa_00011_.png&type=temp&subfolder=&preview=webp&rand=0.7010875366501705"
          },
          {
            "name": "B",
            "selected": true,
            "url": "/api/view?filename=rgthree.compare._temp_gusxa_00012_.png&type=temp&subfolder=&preview=webp&rand=0.11049404874329305"
          }
        ]
      ]
    },
    {
      "id": 45,
      "type": "Image Comparer (rgthree)",
      "pos": [
        -2746.590174426785,
        1238.8825708206411
      ],
      "size": [
        827.6832446665508,
        1487.6424977479487
      ],
      "flags": {},
      "order": 36,
      "mode": 0,
      "inputs": [
        {
          "dir": 3,
          "name": "image_a",
          "type": "IMAGE",
          "link": 105
        },
        {
          "dir": 3,
          "name": "image_b",
          "type": "IMAGE",
          "link": 106
        }
      ],
      "outputs": [],
      "title": "Flow Matching Upscale vs. DyPE Upscale",
      "properties": {
        "cnr_id": "rgthree-comfy",
        "ver": "0fb1e239a903e93ef626a8c20589b38f46e39dff",
        "widget_ue_connectable": {},
        "comparer_mode": "Slide"
      },
      "widgets_values": [
        [
          {
            "name": "A",
            "selected": true,
            "url": "/api/view?filename=rgthree.compare._temp_kgmzh_00001_.png&type=temp&subfolder=&preview=webp&rand=0.853212156069846"
          },
          {
            "name": "B",
            "selected": true,
            "url": "/api/view?filename=rgthree.compare._temp_kgmzh_00002_.png&type=temp&subfolder=&preview=webp&rand=0.929010791328895"
          }
        ]
      ]
    },
    {
      "id": 10,
      "type": "VAEDecode",
      "pos": [
        -3295.769006930416,
        -266.69250670996837
      ],
      "size": [
        140,
        46
      ],
      "flags": {},
      "order": 33,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 54
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 20
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            21,
            74,
            105
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.62",
        "Node name for S&R": "VAEDecode",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 37,
      "type": "VAEDecode",
      "pos": [
        -4560.11556481678,
        1047.8856443757852
      ],
      "size": [
        140,
        46
      ],
      "flags": {},
      "order": 20,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 94
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 102
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            95,
            106
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.62",
        "widget_ue_connectable": {},
        "Node name for S&R": "VAEDecode"
      }
    },
    {
      "id": 3,
      "type": "CLIPTextEncode",
      "pos": [
        -6654.3582623167395,
        -170.50283281888363
      ],
      "size": [
        400,
        200
      ],
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 3
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            2,
            4,
            62,
            98
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.62",
        "Node name for S&R": "CLIPTextEncode",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "An atmospheric, heartwarming portrait of an old man enjoying a quiet morning in Paris. He sits by a large open window of a bistro, bathed in the golden light of the sunrise. He wears a classic beret and a soft knit sweater. In his calloused, gentle hands, he cradles a large ceramic mug of steaming caf√© au lait. The steam dances in the sunbeams. Through the window, the iconic Haussmann architecture of Paris is visible, with the distant silhouette of the Eiffel Tower. The table holds a half-eaten buttery croissant on a napkin. The color palette is rich with golds, warm browns, and soft creams. Highly detailed textures, inviting atmosphere, award-winning photography style.\n\nThe photograph is very detailed. You can see all the marks on the window pane, imperfections in the man's skin, and grainy details of the marble on the table and the wood grain in the chair and on the wall. The brass latch on the window gleams. The fine details of the steam rising from the coffee mug are evident."
      ]
    },
    {
      "id": 27,
      "type": "FlowMatchingStage",
      "pos": [
        -3713.004868923876,
        -289.0002288564811
      ],
      "size": [
        296.767578125,
        730
      ],
      "flags": {},
      "order": 31,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 90
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 91
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 92
        },
        {
          "name": "latent",
          "type": "LATENT",
          "link": 88
        },
        {
          "name": "seed",
          "type": "INT",
          "widget": {
            "name": "seed"
          },
          "link": 89
        }
      ],
      "outputs": [
        {
          "name": "latent",
          "type": "LATENT",
          "links": [
            54
          ]
        },
        {
          "name": "presampler_latent",
          "type": "LATENT",
          "links": null
        },
        {
          "name": "next_seed",
          "type": "INT",
          "links": null
        },
        {
          "name": "model",
          "type": "MODEL",
          "links": null
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "links": null
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfyui-flowmatching-upscaler",
        "ver": "b4fd47a31acdf70194a002cf11b850483687d0af",
        "Node name for S&R": "FlowMatchingStage",
        "aux_id": "ttulttul/ComfyUI-FlowMatching-Upscaler",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        489786576803732,
        "fixed",
        8,
        1,
        "euler",
        "simple",
        1,
        0.1,
        0.1,
        0.5,
        "bicubic",
        "enable",
        "enable",
        2,
        0.1,
        "blob:http://localhost:8188/d8ae47a9-8644-43d2-9696-8d4361b98f06"
      ]
    }
  ],
  "links": [
    [
      2,
      3,
      0,
      1,
      1,
      "CONDITIONING"
    ],
    [
      3,
      4,
      0,
      3,
      0,
      "CLIP"
    ],
    [
      4,
      3,
      0,
      5,
      0,
      "CONDITIONING"
    ],
    [
      5,
      5,
      0,
      1,
      2,
      "CONDITIONING"
    ],
    [
      7,
      2,
      0,
      7,
      0,
      "MODEL"
    ],
    [
      8,
      7,
      0,
      1,
      0,
      "MODEL"
    ],
    [
      20,
      11,
      0,
      10,
      1,
      "VAE"
    ],
    [
      21,
      10,
      0,
      12,
      0,
      "IMAGE"
    ],
    [
      24,
      14,
      0,
      1,
      4,
      "FLOAT"
    ],
    [
      25,
      14,
      0,
      8,
      5,
      "FLOAT"
    ],
    [
      27,
      14,
      0,
      9,
      5,
      "FLOAT"
    ],
    [
      28,
      1,
      0,
      15,
      0,
      "LATENT"
    ],
    [
      29,
      11,
      0,
      15,
      1,
      "VAE"
    ],
    [
      30,
      15,
      0,
      16,
      0,
      "IMAGE"
    ],
    [
      32,
      11,
      0,
      17,
      1,
      "VAE"
    ],
    [
      33,
      17,
      0,
      18,
      0,
      "IMAGE"
    ],
    [
      34,
      8,
      0,
      17,
      0,
      "LATENT"
    ],
    [
      36,
      11,
      0,
      19,
      1,
      "VAE"
    ],
    [
      37,
      19,
      0,
      20,
      0,
      "IMAGE"
    ],
    [
      38,
      9,
      0,
      19,
      0,
      "LATENT"
    ],
    [
      50,
      11,
      0,
      25,
      1,
      "VAE"
    ],
    [
      51,
      25,
      0,
      26,
      0,
      "IMAGE"
    ],
    [
      54,
      27,
      0,
      10,
      0,
      "LATENT"
    ],
    [
      61,
      5,
      0,
      28,
      2,
      "CONDITIONING"
    ],
    [
      62,
      3,
      0,
      28,
      1,
      "CONDITIONING"
    ],
    [
      63,
      7,
      0,
      28,
      0,
      "MODEL"
    ],
    [
      69,
      11,
      0,
      30,
      1,
      "VAE"
    ],
    [
      70,
      30,
      0,
      31,
      0,
      "IMAGE"
    ],
    [
      71,
      28,
      0,
      30,
      0,
      "LATENT"
    ],
    [
      74,
      10,
      0,
      33,
      0,
      "IMAGE"
    ],
    [
      75,
      30,
      0,
      33,
      1,
      "IMAGE"
    ],
    [
      79,
      1,
      3,
      8,
      0,
      "MODEL"
    ],
    [
      80,
      1,
      4,
      8,
      1,
      "CONDITIONING"
    ],
    [
      81,
      1,
      5,
      8,
      2,
      "CONDITIONING"
    ],
    [
      82,
      1,
      0,
      8,
      3,
      "LATENT"
    ],
    [
      83,
      8,
      0,
      9,
      3,
      "LATENT"
    ],
    [
      84,
      8,
      2,
      9,
      4,
      "INT"
    ],
    [
      85,
      8,
      3,
      9,
      0,
      "MODEL"
    ],
    [
      86,
      8,
      4,
      9,
      1,
      "CONDITIONING"
    ],
    [
      87,
      8,
      5,
      9,
      2,
      "CONDITIONING"
    ],
    [
      88,
      9,
      0,
      27,
      3,
      "LATENT"
    ],
    [
      89,
      9,
      2,
      27,
      4,
      "INT"
    ],
    [
      90,
      9,
      3,
      27,
      0,
      "MODEL"
    ],
    [
      91,
      9,
      4,
      27,
      1,
      "CONDITIONING"
    ],
    [
      92,
      9,
      5,
      27,
      2,
      "CONDITIONING"
    ],
    [
      93,
      1,
      2,
      8,
      4,
      "INT"
    ],
    [
      94,
      39,
      0,
      37,
      0,
      "LATENT"
    ],
    [
      95,
      37,
      0,
      38,
      0,
      "IMAGE"
    ],
    [
      96,
      41,
      0,
      39,
      0,
      "MODEL"
    ],
    [
      97,
      7,
      0,
      41,
      0,
      "MODEL"
    ],
    [
      98,
      3,
      0,
      39,
      1,
      "CONDITIONING"
    ],
    [
      99,
      5,
      0,
      39,
      2,
      "CONDITIONING"
    ],
    [
      100,
      42,
      0,
      28,
      3,
      "LATENT"
    ],
    [
      101,
      43,
      0,
      39,
      3,
      "LATENT"
    ],
    [
      102,
      11,
      0,
      37,
      1,
      "VAE"
    ],
    [
      103,
      28,
      0,
      1,
      3,
      "LATENT"
    ],
    [
      104,
      28,
      0,
      25,
      0,
      "LATENT"
    ],
    [
      105,
      10,
      0,
      45,
      0,
      "IMAGE"
    ],
    [
      106,
      37,
      0,
      45,
      1,
      "IMAGE"
    ]
  ],
  "groups": [
    {
      "id": 1,
      "title": "Straight Generation with No Upscaling Workflow",
      "bounding": [
        -6019.922429899372,
        -351.6439682645962,
        683.1382721720283,
        710.4019029713744
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 2,
      "title": "Iterative Upscaling with Flow Matching Upscaler Stages",
      "bounding": [
        -5261.461731058355,
        -362.60022885648107,
        2305.6927241279395,
        1251.7807895599556
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 3,
      "title": "Straight Generation with DyPE instead of Flow Matching Upscale Stages",
      "bounding": [
        -5254.780715733982,
        959.5233067776593,
        982.1863843691226,
        715.9445815956313
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    }
  ],
  "config": {},
  "extra": {
    "ue_links": [],
    "links_added_by_ue": [],
    "ds": {
      "scale": 0.3367574059273113,
      "offset": [
        7142.759591981911,
        432.72137726797837
      ]
    },
    "reroutes": [
      {
        "id": 1,
        "pos": [
          -5425.490328332784,
          -47.0774142069057
        ],
        "linkIds": [
          20,
          29,
          32,
          36,
          50,
          69
        ]
      },
      {
        "id": 2,
        "parentId": 1,
        "pos": [
          -5410.564817892951,
          436.8133382692006
        ],
        "linkIds": [
          29,
          32,
          36,
          50,
          69
        ]
      }
    ],
    "linkExtensions": [
      {
        "id": 20,
        "parentId": 1
      },
      {
        "id": 29,
        "parentId": 2
      },
      {
        "id": 32,
        "parentId": 2
      },
      {
        "id": 36,
        "parentId": 2
      },
      {
        "id": 50,
        "parentId": 2
      },
      {
        "id": 69,
        "parentId": 2
      }
    ],
    "frontendVersion": "1.29.1"
  },
  "version": 0.4
}